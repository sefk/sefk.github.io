<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Posts about Engineering | sef.kloninger.com</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://sef.kloninger.com/categories/engineering/">
<link rel="next" href="index-1.html" type="text/html">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><link rel="alternate" type="application/rss+xml" title="RSS for tag Engineering" hreflang="en" href="../engineering.xml">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark
bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="../../">

            <span id="blog-title">sef.kloninger.com</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../posts/index.html" class="nav-link">Blog</a>
                </li>
<li class="nav-item">
<a href="mailto:sefklon@gmail.com" class="nav-link">Email</a>
                </li>
<li class="nav-item">
<a rel="me" href="https://hachyderm.io/@sefk" class="nav-link">Mastodon</a>
                </li>
<li class="nav-item">
<a href="https://bsky.app/profile/sefk.bsky.social" class="nav-link">Bsky</a>
                </li>
<li class="nav-item">
<a href="https://www.linkedin.com/in/sefkloninger/" class="nav-link">LinkedIn</a>
                </li>
<li class="nav-item">
<a href="https://github.com/sefk" class="nav-link">GitHub</a>
                </li>
<li class="nav-item">
<a href="https://rawgithub.com/sefk/sef-resume/master/sef-kloninger-resume.html" class="nav-link">Resume</a>
                </li>
<li class="nav-item">
<a href="https://rawgithub.com/sefk/sef-resume/master/sef-kloninger-resume.pdf" class="nav-link">PDF</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        

    <header><h1>Posts about Engineering</h1>
        <div class="metadata">
            
                <p class="feedlink">
                        
            <a href="../engineering.xml" hreflang="en" type="application/rss+xml">RSS feed</a>

                </p>

            

        </div>
    </header><div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../../posts/interview-question/" class="u-url">A Good Interview Question</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Sef Kloninger
            </span></p>
            <p class="dateline">
            <a href="../../posts/interview-question/" rel="bookmark">
            <time class="published dt-published" datetime="2025-10-07T15:00:00-07:00" itemprop="datePublished" title="2025-10-07 15:00">2025-10-07 15:00</time></a>
            </p>
                <p class="commentline">
    
    <a href="../../posts/interview-question/#disqus_thread" data-disqus-identifier="cache/posts/interview-question.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><img style="float:right" class="postimage" src="../../f/python.png" alt="Python language logo" width="25%"></p>
<p>I liked the interview question that I got when interviewing at YouTube in 2015.
At Google then we'd have an interview panel of four or five people, each
assigned to cover a different area. <a href="https://www.linkedin.com/in/billy-biggs-7ab1023/">Billy Biggs</a> was the TL on my panel asked
to evaluate "architecture" but for a manager, that kind of translates to general
technical cluefulness. There was a separate <a href="../../posts/201205fizzbuzz-for-managers">programming question</a>.</p>
<p>Billy's question: <strong>Discuss what would cause a Python interpreter to crash. Not
a <em>program written in Python</em>, but the interpreter itself.</strong></p>
<p>I remember this leading to a fun, rambling, back-and-forth forty-five minute
discussion of the <strong>many ways computers can fail</strong>. There are so many! Every
level of the stack can fail in interesting ways: storage, RAM, memory
management, networking. How would a bit flip in a TLB manifest? How does TCP/IP
detect and handle ordering? collisions?</p>
<p>We also covered a bunch of <strong>engineering and process questions</strong>. How is the
interpreter itself implemented, in what language and by whom? What would the
quality processes be like for a product like that, especially given Python is
presumably a large and complicated open source project? How would you manage
this as development project? How important is it that there's an <a href="https://en.wikipedia.org/wiki/Benevolent_dictator_for_life">BDFL</a>? </p>
<p>And then that lead to a some more interesting higher-level discussions about the
actual <strong>costs and benefits of addressing failures</strong> like these in the field.
When should programs hard-fail versus try to detect and recover? How would you
staff an engineering team to find and chase down errors? What's the user impact
to a failure like this?</p>
<p>One of my favorite things about this question is it's that most likely it was
something they'd actually seen at YouTube. In 2015 significant parts of YouTube
was <a href="https://mail.python.org/pipermail/python-dev/2006-December/070323.html">written in Python</a> (that's likely not the case anymore, I don't know).
Crashes like these must have come up in the field. Not only are real-world
problems relatively easy to ask, but they have the added benefit of showing the
candidate the kinds of issues that the team actually deals with.</p>
<p>I got the job.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../../posts/experiments/" class="u-url">Learn From Experiments</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Sef Kloninger
            </span></p>
            <p class="dateline">
            <a href="../../posts/experiments/" rel="bookmark">
            <time class="published dt-published" datetime="2025-09-23T11:00:00-07:00" itemprop="datePublished" title="2025-09-23 11:00">2025-09-23 11:00</time></a>
            </p>
                <p class="commentline">
    
    <a href="../../posts/experiments/#disqus_thread" data-disqus-identifier="cache/posts/experiments.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><img style="float:right" class="postimage" src="../../f/experiment.jpeg" alt="Line art of an experiment" width="60%"></p>
<p><em>What's the value of an experiment or a prototype?</em></p>
<p>There are all kinds of ways to have impact. A feature can improve user
experience; a hardening project can reduce risk of a production outage;
refactoring or test coverage can improve velocity or make software easier and
safer to maintain. And good engineers care a lot about impact. While it's not
the only thing that matters (the "how" is important too), if you start with
impact, you'll generally do well.</p>
<p>An engineer's job to put ideas into practice, to make things. But sometimes
we're not sure what to make. Or we think we know, but aren't sure it'll work.
The best way to figure that out is often running a set of experiments, or maybe
building a prototype (an n=1 experiment).</p>
<p>But crucially, an experiment doesn't have value itself. An experiment is
successful only if we've learned something. The intent of the test rig or
prototype isn't to live on. Indeed, knowing that we plan to throw it away is
part of what makes it fast and cheap to build, and it shouldn't have all the
trappings of production-quality software, like test coverage and code reviews.</p>
<p>So how do we ensure that value gets delivered? When you work in a team or a
company people turn over. It's not just enough to do the experiment, you need to
write it up and share your results. To produce a good writeup, you should:</p>
<ol>
<li>
<p><strong>Figure out the hypothesis(es)</strong> you're testing. Often this is in the form
   of one or more questions. For prototypes, it might be a boolean, i.e. we can
   build X that will work. But even then, consider what "done" means. Stating
   your hypothesis in terms of a metric is often easiest. NB I find the
   goal/driver/guardrail framework from Thanks <a href="https://research.google/people/author3770/?&amp;type=google">Diane</a>'s book helpful,
   <a href="https://www.google.com/books/edition/Trustworthy_Online_Controlled_Experiment/TFjPDwAAQBAJ?hl=en&amp;gbpv=1">Trustworthy Online Controlled Experiments</a>. </p>
</li>
<li>
<p><strong>State your assumptions and method</strong>. This is where you usually get the most
   feedback. Note that this usually isn't a project plan, as your reviewers
   usually don't care how long it takes or what happens when. </p>
</li>
<li>
<p><strong>Seek feedback</strong> from your peers. Publish the doc stating the method to have
   smart people poke holes in your plan and make sure what you're measuring will
   actually address the hypothesis. And then when the experiment is done, get it
   reviewed by someone senior to ensure that your work supports your conclusion.
   This also spreads knowledge about this work (both that you're doing it, and
   the results) so the overall organization benefits.</p>
</li>
</ol>
<p>The artifact produced has many benefits. It's useful for you as you discuss
follow-on work; it's useful come performance evaluation time. But most
importantly, it benefits the organization. Contemporary and future peers can
learn from this work. </p>
<p>You'll benefit from taking the time to write it up, the reviewers learn from
reading, and it'll live on past your time with the team.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../../posts/aws/" class="u-url">Lessons from Three Years in AWS</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Sef Kloninger
            </span></p>
            <p class="dateline">
            <a href="../../posts/aws/" rel="bookmark">
            <time class="published dt-published" datetime="2015-04-24T00:10:00-07:00" itemprop="datePublished" title="2015-04-24 00:10">2015-04-24 00:10</time></a>
            </p>
                <p class="commentline">
    
    <a href="../../posts/aws/#disqus_thread" data-disqus-identifier="cache/posts/aws.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><img style="float:right" class="postimage" src="../../f/aws.png" alt="AWS Logo" width="30%"></p>
<p>I've spent the last three years building and operating web sites
with Amazon Web Services and here are a few lessons I've learned. 
But I first have to come clean that I'm a fan of AWS with only
casual experience with other IAAS/PAAS platforms.</p>
<p><strong>S3 Is Amazing</strong>. They made the right engineering choices and
compromises: cheap, practically infinitely scalable, fast enough,
with good availability. $0.03/GB/mo covers up for a lot of sins.
Knowing it's there changes how you build systems.</p>
<p><strong>IAM Machine Roles From The Start</strong>. IAM with <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html">Instance Metadata</a>
is a powerful way to manage secrets and rights. Trouble is you can't add
to existing machines. Provision with machine roles in big categories
(e.g. app servers, utility machines, databases) at the start, even if 
just placeholders.</p>
<p><strong>Availability Zoness Are Only Mostly Decoupled</strong>. After the 2011
<a href="http://www.networkworld.com/article/2202805/cloud-computing/amazon-ec2-outage-calls--availability-zones--into-question.html">us-east-1 outage</a> we were reassured that a coordinated 
outage wouldn't happen again, but it happened again just
<a href="https://www.reddit.com/r/aws/comments/2zpag7/aws_internal_dns_outage/">last month</a>.</p>
<p><strong>They Will Lock You In And You'll Like It</strong>. They secondary services
work well, are cheap, and are handy. I'm speaking of SQS, SES,
Glacier, even Elastic Transcoder. Who <em>wants</em> to run a durable queue
again?</p>
<p><strong>CloudFormation No</strong>. It's tough to get right. My
objection isn't programming in YAML, I don't mind writing Ansible plays, it's the
complexity/structure of CloudFormation that is impenetrable. Plus
even if you get it working once, you'd never run it again on something
that is running.</p>
<p><strong>Boto Yes</strong>. Powerful and expressive. Don't script the CLI, use
Boto. Easy as pie.</p>
<p><strong>Qualify Machines Before Use</strong>. Some VMs have lousy networking,
presumably due to a chatty same-host or same-rack neighbor. Test
for loss and latency to other hosts you own and on EBS. (I've used
home-grown scripts, don't know of a standard open-source widget,
someone should write one).</p>
<p><strong>VPC Yes</strong>. If you have machines talking to each other (i.e. not a
lone machine doing something lonely) then put them in a VPC. It's not
hard.</p>
<p><strong>NAT No</strong>. You think that'll improve security, but it will just
introduce SPOFS and capacity chokepoints. Give your machines publicly
routable IP's and use security groups.</p>
<p><strong>Network ACLs Are A Pain</strong>. Try to get as far as you can with just security
groups.</p>
<p><strong>You'll Peer VPC's Someday</strong>. Choose non-overlapping subnet IP ranges
at the start. It's hard to change later.</p>
<p><strong>Spot Instances Are Tricky</strong>. They're only For a very specific use
case that likely isn't yours. Setting up a test network? You can
spend the money you save by using spot on swear jar fees.</p>
<p><strong>Pick a Management Toolset</strong>. Ansible, Chef, all those things aren't
<em>all</em> that different when it comes down to it. Just don't dither back
and forth. There's a little bit of extra Chef love w/ AWS but not enough to tip
the scales in your decision I'd reckon. </p>
<p><strong>Tech Support Is Terrible</strong>. My <a href="http://www.wavefront.com/">last little
startup</a> didn't get much out of the <a href="https://aws.amazon.com/premiumsupport/">business level tech
support</a> we bought. We needed it so we could call in to get
help when we needed it, and we used that for escalating some problems.
It was nice to have a number to call when I urgently need to up a
system limit, say. But debugging something real, like a networking
problem? Pretty rough.</p>
<p><strong>...Unless You Are Big</strong>. Stanford, on the other hand, had a named
rep who was responsive and helpful. I guess she was sales, but I
used her freely on support issues and she worked the backchannels
for us. Presumably this is what any big/important customer would
get, that's just not you, sorry.</p>
<p><strong>The Real Power Is On Demand</strong>. I'm reaffirming cloud
koolaid here. Running this way lets you build and run systems
differently, <em>much better</em>. I've relied on the cloud this to bring
up emergency capacity. I've used it to convert a class of machines
on the fly to the double-price double-RAM tier when hitting a
surprising capacity crunch. There are a whole class of problems
that get much easier when you can have 2x the machines for just a
little while.  When someone comes to you with that cost/benefit
spreadsheet arguing why you should self-host, that's when you need
your file of "the cloud saved my bacon" stories at the ready.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../../posts/learn-to-write/" class="u-url">CS Students: Learn to Write</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Sef Kloninger
            </span></p>
            <p class="dateline">
            <a href="../../posts/learn-to-write/" rel="bookmark">
            <time class="published dt-published" datetime="2014-01-25T16:17:00-08:00" itemprop="datePublished" title="2014-01-25 16:17">2014-01-25 16:17</time></a>
            </p>
                <p class="commentline">
    
    <a href="../../posts/learn-to-write/#disqus_thread" data-disqus-identifier="cache/posts/learn-to-write.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><img style="float:right" class="postimage" src="../../f/writing-hand.jpeg" alt="Writing Hand" width="40%"></p>
<p>If I could do my college years over I would focus on writing. I
would take courses that required a lot of writing, in the spirit
of "learn by doing". I'd also take courses in the mechanics and
craft: grammar, vocabulary, and rhetoric.</p>
<p>I used to consider myself a competent writer. And certainly good
enough for an engineer, right? But I've learned that I have a long
way to go. I've learned that engineers spend much more time writing
than you expect. And I appreciate how hard it is to write well.</p>
<p>This came up just this past week. I came across a beautiful four
page essay. It laid out the problem, described alternatives, and
lead you concisely to a well-reasoned conclusion. Sure, it was about
technology, but what carried the day was the good writing. Humbling!</p>
<p>You're saying: but wait, you're a <a href="http://en.wikipedia.org/wiki/Pointy-Haired_Boss">pointy-haired boss</a> now
Sef, one of those guys who doesn't do <em>Real Work</em> anymore. You write
email and boss people around. I understand why managers like you
need to write, I'm an engineer. I write code. Well, there's some
truth to that. But I'd like to convince you that even monster coders,
if they're any good, write a lot, write well, and value good writing
in others.</p>
<p>It is rare for someone to do their work in isolation and have it
matter. Either you're working as part of a team, in a company or
a community of developers, say on an open-source project. Sure, you
build a great system or feature. But to have it matter to the world,
for others to adopt it, you need to document, publicize, support,
teach. 98% of that is writing.</p>
<p>I had a lunchtime conversation with <a href="http://jacobian.org/writing/great-documentation/">Jacob Kaplan-Moss</a>,
Django's co-founder, at last year's PyCon. I asked him why Django
caught on and was adopted by so many of us (including <a href="http://class2go.stanford.edu/">my last
project</a> and <a href="http://code.edx.org/">my current project</a>). I was expecting him
to point to features or timing. Instead he said it was "because we
wrote good docs". The Django team didn't treat documentation as an
afterthought. They have lots of docs, and they are good.</p>
<p>Consider that rare bird, the iconoclastic engineer working in
isolation on their own project. I'm thinking of <a href="http://antirez.com/">Antirez</a> or
<a href="http://www.marco.org/">Marco</a>. (Maybe they aren't even truly on their own so much.
Humor me!) They are prolific and strong coders. But they also write
a lot of words! They write a ton about their project; also tech
landscape and their place in it. Would their software have as much
of an impact if they didn't write so much (and well)? I say no.</p>
<p>Case in point. Both Marco and I wrote blog posts riffing off the
same topic two weeks ago. First, read <a href="http://sef.kloninger.com/posts/consume-produce-public.html">mine</a>, then
<a href="http://www.marco.org/2014/01/03/the-builders-high">his</a>.  It takes me a ton of words to get something
basic out.  His is concise and clear. Sheesh.</p>
<p>So kids, don't shortchange those liberal arts classes. It's not
fluffy stuff on the side. <strong>That is core</strong>. You need to write well
to be a good engineer.</p>
<p>Protip: the best way to do this is to major in the humanities. They
write like crazy over there. Be like my friend Dan Chu and major
in history, but secretly take CS courses on the side. If you're
super smart like him, and can manage getting both degrees, then
you're awesome. But don't sacrifice the BA for the BS. I would
<strong>love</strong> to talk to a candidate with with a History BA and a Computer
Science MS.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../../posts/201306launch-day/" class="u-url">Launch Day</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Sef Kloninger
            </span></p>
            <p class="dateline">
            <a href="../../posts/201306launch-day/" rel="bookmark">
            <time class="published dt-published" datetime="2013-06-11T22:59:24-07:00" itemprop="datePublished" title="2013-06-11 22:59">2013-06-11 22:59</time></a>
            </p>
                <p class="commentline">
    
    <a href="../../posts/201306launch-day/#disqus_thread" data-disqus-identifier="cache/posts/201306launch-day.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <img class="alignright  wp-image-415" style="border: 0px;" alt="spaceshuttle" src="../../f/spaceshuttle-300x283.png" width="180" height="170"><p>
Today was launch day. It went really well.  I wanted to capture what a good launch feels like and contrast that with a more exciting launch, just five months ago.


</p>
<p>
Today we turned on our first class on Stanford's instance the open-source <a href="http://code.edx.org">edX platform</a>, what we're calling <a href="http://online.stanford.edu/openedx">OpenEdX</a>. The class is <a href="https://class.stanford.edu/courses/Medicine/HRP258/Statistics_in_Medicine">Statistics in Medicine</a>, taught by Kristin Sainani of the Stanford School of Medicine. With over thirteen thousand students signed up it's a medium-sized MOOC (Massive Open Online Course).



</p>
<p>
We have launched MOOC's for Stanford before: two in <a href="http://networking.class.stanford.edu/">Fall</a> <a href="http://solar.class.stanford.edu/">Quarter</a>, and one in <a href="http://db.class.stanford.edu/">Winter</a>. Even though the classes were huge success, but the launch days weren't so smooth. We had written that platform, <a href="http://class2go.stanford.edu/">Class2Go</a>, from the ground up with a small team in a dozen weeks in Fall; in the weeks before the Winter launch we ripped out the whole evaluation system, about one-third of the code, and replaced it with a whole new engine. In both cases most of our code was fresh off the presses.



</p>
<p>
Those launches were rocky. I'll tell the story of the DB class launch in January. The first thing we do is a "soft launch," where you open the front door and some people find their way in. Those first visits give you a sense of how things will go.  Surprisingly, the servers were a bit busy.  But we wanted to keep going, so we scaled up capacity and moved on.



</p>
<p>
The thing that drives real traffic is the announcement email. That gets people to the site. The announcements started going out, students started coming in, and the site lit up. We were in hot water. Servers were overloaded, and most surprising, the database was getting hammered. This was scary and unexpected. We control-C'ed the mail job and quickly hacked additional caching into the site.  We had to trickle out announcements over the next twelve hours.  We made it, but it was a long, stressful day.



</p>
<p>
And then the days/weeks post-launch were spent watching graphs, triaging 500 errors (user-visible "we're sorry" pages), and installing daily hotfixes. But we got through it. The classes were a success and the team was proud.



</p>
<p>
So, contrast that to today's launch.  Totally different.



</p>
<p>
Everyone came in early as usual. I bought bagels. We turned on the class (soft-launch) and the servers hardly noticed. We sent the announcement mails, people came and took their pre-course survey and watched the intro video. Hardly any load. This chart shows the average CPU on our four appservers from 8:00 AM PDT / 15:00 UTC until 10:45 AM or so.



</p>
<p align="center">
<img class="alignnone  wp-image-414" style="border: 0px;" alt="launch-app-cpu" src="../../f/launch-app-cpu1.png" width="1530" height="373"></p>
<p>
Those are happy servers. Other charts we watched (db connections, load, etc.) told the same story. The most impressive thing was not a single user visible error, no 500's!



</p>
<p>
Those folks at edX made some solid software.  We're happy to be working with a strong group of engineers and a quality product.  We've had our hands on it only since April, and it was released open-source to the world on June 1.  I fully expect a lot of other universities and organizations are going to have a great time running classes on OpenEdX too.



</p>
<p>
I just turned off half the appservers since we're fine on capacity. Now off to bed with a good feeling.

</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../../posts/201301why-so-long/" class="u-url">Why Is That Feature Taking So Long?</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Sef Kloninger
            </span></p>
            <p class="dateline">
            <a href="../../posts/201301why-so-long/" rel="bookmark">
            <time class="published dt-published" datetime="2013-01-25T01:24:48-08:00" itemprop="datePublished" title="2013-01-25 01:24">2013-01-25 01:24</time></a>
            </p>
                <p class="commentline">
    
    <a href="../../posts/201301why-so-long/#disqus_thread" data-disqus-identifier="cache/posts/201301why-so-long.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <img class="alignright  wp-image-394" style="border: 0px;" alt="turd-polish" src="../../f/turd-polish.png" width="191" height="182"><p>
I've observed a recurring source of tension:  building things fast vs. do it the right way. Usually you're not lucky enough that you can do both.  This post explains a bit why we (engineers) care so much about building things right.  Even when things are overdue and our stakeholders (end-users, biz folks, product management) are pushing to just get it done.


</p>
<p>
You can describe the two poles here in pejorative terms.  Fast is slapdash, quick and dirty, bad software.  The right way is really just ivory-tower over-engineered turd polishing.  Is that fix really so important that we shouldn't ship it? Do you really need to refactor that now?



</p>
<p>
I see three things driving engineers to build it right.

</p>
<p>
</p>
<ol>
<li>
<strong>Wrong is insidious</strong>. A story: early on in Class2Go every page began with a fetch of some basic page data. If there was an error on lookup we would throw a 404. Not only is "not found" the wrong message, but it also isn't helpful. It covers up all kinds of other problems, in a way that is really difficult to debug.But for an engineer, these programming messes are <a href="http://en.wikipedia.org/wiki/Broken_windows_theory">broken windows</a>. Not only do they cheapen the project, they encourage others to take bad shortcuts. Heck, if they can't be bothered to handle exceptions correctly, then why should I?</li>
	<li>
<strong>Wrong is the express train to support hell.</strong> Unless you leave the company or project, you'll be called upon to support your own crappy code. That is certain. And there is almost nothing worse than being dragged back to debug some old code that you never meant to become production, and is now breaking the world.</li>
	<li>
<strong>Wrong hurts your reputation as an engineer</strong>. People see you taking shortcuts and infer that you are a sloppy programmer. And really they aren't wrong to do so. One habit of really good engineers is they don't leave a wake of messes behind them. They are able to do things (mostly) right even when they are moving fast.</li>
</ol>
<p>
This last point is really the key one. Amongst engineers your reputation is your hard currency. It affects what projects you're invited to work on and what companies you'll be asked to join. Most importantly, good engineers only want to work with other good engineers, and they won't seek out someone sloppy. So I assume that any code I write will be looked at by a potential colleague or employer. This is especially true when working on an open-source project.



</p>
<p>
This doesn't mean you have to go slow -- indeed, on my current project, <a href="http://class2go.stanford.edu/" target="_blank">Class2Go</a>, we get a lot done every week. What it does mean is that sometimes I'd rather not do something than do something I know will come out poorly.



</p>
<p>
So, product manager waiting on a feature. What to do if you're waiting on an engineer and you think it's taking too damn long? The tactic **not** to use: tell them this won't matter and to just ship it. That will just piss him off. Better: get your senior engineer to convince the junior one why it's good enough to ship and reason about what really needs to get done. Exception: if the engineer you're waiting on is your senior engineer, then trust her judgment and wait.



</p>
<p>
And finally, to you product managers and biz folks who push. You are right do do so. That's all that matters to the customers, all matters at the end of the day. Keep it up.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../../posts/201207taking-down-100000-sites/" class="u-url">The Day I Took Down 100,000 Web Sites</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Sef Kloninger
            </span></p>
            <p class="dateline">
            <a href="../../posts/201207taking-down-100000-sites/" rel="bookmark">
            <time class="published dt-published" datetime="2012-07-25T10:56:57-07:00" itemprop="datePublished" title="2012-07-25 10:56">2012-07-25 10:56</time></a>
            </p>
                <p class="commentline">
    
    <a href="../../posts/201207taking-down-100000-sites/#disqus_thread" data-disqus-identifier="cache/posts/201207taking-down-100000-sites.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <img class="alignright size-full wp-image-343" style="border: 0px;" title="fire" src="../../f/fire.png" alt="fire alarm" width="300" height="240"><p>
Every engineer has their "the day I did something very very bad" story. This is mine.


</p>
<p>
It was my last week at <a href="http://www.ning.com/">Ning</a>. For about a year I ran the Infrastructure and Operations group. It was the end of a good stretch, working with a strong team on hard problems.



</p>
<p>
In early 2010 (before I joined) Ning had successfully switched from a premium to paid model. Of Ning's two million social networks some were thriving onine communities, but many weren't. Trading those in for one hundred thousand good paying customers had been the right thing for the business. We kept around the 1.9M orphaned sites for some time in case someone wanted to assume ownership and start paying. By late 2011 the revival rate had dropped low enough that it was time to clear out the cruft.



</p>
<p>
I volunteered for the cleanup. I enjoyed little projects like this because it kept my hands in the code and took away a task that would be a chore and distraction for the engineers. The job was some SQL queries, scripting, load testing, checking, and double-checking. The hardest part was ensuring we had the right list of networks to delete.



</p>
<p>
It took about two months to write and run the scripts. I felt good that it had gone through uneventfully.



</p>
<p>
There was a legacy corner of our system that hadn't been included in my cleanup pass. I hadn't worried about it at first since it was just a few thousand networks. But now that I was leaving Ning I wanted to tie off my loose end projects, and this was one. I assembled the list of stragglers and ran my scripts. The 2,000 deletes went quickly. This was 11:00 AM on regular workday -- my last Wednesday on the job.



</p>
<p>
I immediately knew that I had done something very wrong. Since I sat close to the Customer Advocacy group I heard their IM clients and phones light up. Every Ning page was a "We're Sorry" 404 page. Oh crap.



</p>
<p>
It only took a couple of minutes to find the problem. One of the networks I had marked for deletion had core Javascript and CSS needed by every Ning network -- important stuff. The network, "socialnetworkmain" was known to everyone as being important, and if I had done my spot checks better, I would have seen it straight away. Instead, I had been sloppy.



</p>
<p>
The backdoor method I was using bypassed the safeties we had in place to protect our "really important" networks.



</p>
<p>
Luckily, <a href="https://twitter.com/myelin">Phil</a>, one of our top-notch infrastructure engineers was sitting close by and quickly restored the network through the backend. Things returned to normal almost immediately. That feeling of panic started to back off. The jokes started and we started to relax.



</p>
<p>
It took us another few hours to find and fix second and third order effects of my snafu. The network creation flow was broken -- fixed. An in-house monitoring system was dying silently -- fixed. And so on.



<!-- Friday, August 18, 1995 -->
</p>
<p align="center">
<a title="Dilbert strip where he screwed up big-time" href="http://dilbert.com/strips/comic/1995-08-18/"><img src="../../f/dilbert-screwed-up.gif" alt="Dilbert.com" border="0"></a>



</p>
<p>
I learned four lessons:

</p>
<p>
</p>
<ol>
<li>
<strong>Undo is your friend.</strong> The tooling or features to revert your change will take time, but you will be happy to have it if you ever need it.</li>
	<li>
<strong>Make changes during the day.</strong> Resolving a hairy problem is hard if you don't have the right people, and when the people you do have are tired and foggy. This incident might have taken hours to resolve instead of minutes in the middle of the night.</li>
	<li>
<strong>It's not over until it's over.</strong> Once in crisis mode, you're eager to be get out of it. Once the main problem is solved it is tempting to exhale, go to lunch, go back to bed, whatever. But aftereffects might take a while to show up, or may just be harder to find.</li>
	<li>
<strong>Disproportionate effects.</strong> We all know that our complex systems nonlinear failure modes. Incidents like these are reminders that small changes have big effects. Said another way, even small things should be taken seriously.</li>
</ol>
<p>
My time at Akamai had prepared me well for managing a crisis. But it's nice to have a refresher course every now and then.



 </p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="../../posts/201205engineering-culture-litmus-tests/" class="u-url">Why Quit?  Because They Have Bigger Monitors</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Sef Kloninger
            </span></p>
            <p class="dateline">
            <a href="../../posts/201205engineering-culture-litmus-tests/" rel="bookmark">
            <time class="published dt-published" datetime="2012-05-17T16:01:44-07:00" itemprop="datePublished" title="2012-05-17 16:01">2012-05-17 16:01</time></a>
            </p>
                <p class="commentline">
    
    <a href="../../posts/201205engineering-culture-litmus-tests/#disqus_thread" data-disqus-identifier="cache/posts/201205engineering-culture-litmus-tests.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>
Good engineers are attracted to places with a strong engineering culture. But how can you see what the culture is really like from the outside? Here are my two quick-and-dirty indicators.

<img class="alignright size-full wp-image-230" style="border: 0px;" title="testtubes" src="../../f/testtubes.png" alt="" width="149" height="200"></p>
<p>
First a word about what I mean by an engineering culture. It means engineers are valued and important. Some implications:
</p>

<p>
</p>
<ul>
<li>How are decisions made? In an engineering culture, technical people have input into what gets built, when, and by whom.  Not signoff, but a real say.</li>
	<li>Is there respect for the craft of making software? Coding is still creative work that requires the right time and space. Some projets are tough to predict how long they will take, and that's needs to be OK.</li>
	<li>Infrastructure. How hard is it for the people who know (engineers, managers) to justify to their bosses when work is needed on non-feature driven stuff? This could be in the runtime system (like scaling work on the message queue) or back office (like build systems or version control).</li>
</ul>
<p>
Unfortunately, teasing this out in an interview can be tricky unless you have someone you really know and trust on the inside.

</p>
<p>
</p>
<h2>How big are the monitors?</h2>

A story from a prior company. I was an engineering manager that had a retention problem. One of the engineers on my team quit to go to a smaller, hipper company. This was from my exit interview:

<p>
</p>
<blockquote>

<p>
<strong>Me</strong>: why are you leaving?

</p>
<p>
<strong>Him</strong>: because they have bigger monitors.

</p>
<p>
<strong>Me</strong>: (incredulous) are you kidding? we can get you a bigger monitor.

</p>
<p>
<strong>Him</strong>: it's not just me -- everyone has big monitors.

</p>
<p>
<strong>Me</strong>: why is that so important?

</p>
<p>
<strong>Him</strong>: because it shows how much they value my time. The extra money to cram that many more pixels into my retina must be worth it to them.

</p>
</blockquote>

And now I understand that this is totally true. Places that value their people consider equipment expenses small compared to the productivity (and happiness) of their people.  The best engineers are given the best tools to do their jobs. Big monitors are a very visible sign of this.

<h2>Can people choose their own email addresses?</h2>

Non-engineers sometimes don't appreciate how important an email address is. It's your identity on line. A strict naming convention (first name last initial, or worse, last name first initial) indicates place that values conformity over engineer happiness. Worse, its a great way to make their people feel like cogs or "human resources," not the cool individuals that they are.

<p>
(Aside: let's do away with the term Human Resources.  It's horrible.)

</p>
<p>
This one is important for me personally since I have a weird first name. If you don't let me be <code>sef@company.com</code> then you get major demerits in my book. And no, clunky alias tricks, like a mailing list with one member in it, doesn't count. It's what you see on your shell prompt that matters; it's what <code>whoami</code> returns that matters.

</p>
<p align="center">
<img class="alignnone size-full wp-image-235" style="border: 0px;" title="whoami" src="../../f/whoami.png" alt="" width="556" height="226"></p>
<p>
One final word: this isn't a slam on you hardworking IT guys and gals who keep important things running and have to enforce the rules you're given. Instead, I'm speaking to the bad policies (usually stemming from bad cultures) that can put you into bad positions. If you are at such a place, hunker down and pray for daylight.

 </p>
    </div>
    </article>
</div>

        <ul class="pager postindexpager clearfix">
<li class="next"><a href="index-1.html" rel="next">Older posts</a></li>
        </ul>
<script>var disqus_shortname="sefkloninger";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><!--End of body content--><footer id="footer"><p align="center">Contents © 2025 <a href="mailto:sefklon@gmail.com">Sef Kloninger</a>       Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>
<img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg" alt="" style="max-width: 1em;max-height:1em;margin-left: .2em;"><img src="https://mirrors.creativecommons.org/presskit/icons/by.svg" alt="" style="max-width: 1em;max-height:1em;margin-left: .2em;"><img src="https://mirrors.creativecommons.org/presskit/icons/nc.svg" alt="" style="max-width: 1em;max-height:1em;margin-left: .2em;"><img src="https://mirrors.creativecommons.org/presskit/icons/sa.svg" alt="" style="max-width: 1em;max-height:1em;margin-left: .2em;"></p>
            
            
        </footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script src="../../assets/js/luxon.min.js"></script><!-- fancy dates --><script>
        luxon.Settings.defaultLocale = "en";
        fancydates(2, {"preset": false, "format": "yyyy-MM-dd HH:mm"});
        </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-30366531-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-30366531-1');
</script>
</body>
</html>
